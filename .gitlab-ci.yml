stages:
  - test

.test: &test
  stage: test
  before_script:
    - composer install --no-interaction --prefer-source
  script:
    - vendor/bin/phpunit --configuration phpunit.xml --coverage-text --colors=never
    - vendor/bin/phpcs -p --report=summary --standard=style.xml src

test:php-7.2:
  image: jitesoft/phpunit:7.2-7
  <<: *test

test:php-7.1:
  image: jitesoft/phpunit:7.1-7
  <<: *test
